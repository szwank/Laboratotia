<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="29,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T3U3">x5</span>,<span class="var type1" id="S3T3U4">x6</span>] = fcn(<span class="var type1" id="S4T3U7">a1</span>,<span class="var type1" id="S5T3U8">a2</span>,<span class="var type1" id="S6T3U9">aPrim1</span>,<span class="var type1" id="S7T3U10">aPrim2</span>,<span class="var type1" id="S8T3U11">u1</span>,<span class="var type1" id="S9T3U12">u2</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="29,2" id="srcline2"> 2</a></span><span class="line"><span class="mxinfo " id="T3:U9"><span class="var type1" id="S10T3U15">m1</span> = <span class="mxinfo " id="T3:U11">2</span></span>; <span class="mxinfo " id="T3:U12"><span class="var type1" id="S11T3U19">m2</span> = <span class="mxinfo " id="T3:U14">1</span></span>; <span class="mxinfo " id="T3:U15"><span class="var type1" id="S12T3U23">l1</span> = <span class="mxinfo " id="T3:U17">1.5</span></span>; <span class="mxinfo " id="T3:U18"><span class="var type1" id="S13T3U27">l2</span> = <span class="mxinfo " id="T3:U20">1</span></span>; <span class="mxinfo " id="T3:U21"><span class="var type1" id="S14T3U31">lc1</span> = <span class="mxinfo " id="T3:U23"><span class="var type1" id="S12T3U33">l1</span>/2</span></span>; <span class="mxinfo " id="T3:U25"><span class="var type1" id="S15T3U37">lc2</span> = <span class="mxinfo " id="T3:U27"><span class="var type1" id="S13T3U39">l2</span>/2</span></span>; <span class="mxinfo " id="T3:U29"><span class="var type1" id="S16T3U43">J1</span> = <span class="mxinfo " id="T3:U31">(<span class="var type1" id="S10T3U47">m1</span>*<span class="var type1" id="S12T3U49">l1</span>^2)/3</span></span>; <span class="mxinfo " id="T3:U34"><span class="var type1" id="S17T3U54">J2</span> = <span class="mxinfo " id="T3:U36">(<span class="var type1" id="S11T3U58">m2</span>*<span class="var type1" id="S13T3U60">l2</span>^2)/3</span></span>; <span class="mxinfo " id="T3:U39"><span class="var type1" id="S18T3U65">g</span> = <span class="mxinfo " id="T3:U41">9.81</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T3:U42"><span class="var type1" id="S19T3U69">H11</span> = <span class="mxinfo " id="T3:U44"><span class="mxinfo " id="T3:U45"><span class="mxinfo " id="T3:U46"><span class="mxinfo " id="T3:U47"><span class="var type1" id="S10T3U74">m1</span>*<span class="mxinfo " id="T3:U49"><span class="var type1" id="S14T3U76">lc1</span>^2</span></span> + <span class="var type1" id="S16T3U78">J1</span></span> + <span class="mxinfo " id="T3:U52"><span class="var type1" id="S11T3U80">m2</span>*(<span class="mxinfo " id="T3:U54"><span class="mxinfo " id="T3:U55"><span class="mxinfo " id="T3:U56"><span class="var type1" id="S12T3U85">l1</span>^2</span> + <span class="mxinfo " id="T3:U58"><span class="var type1" id="S15T3U88">lc2</span>^2</span></span> + <span class="mxinfo " id="T3:U60"><span class="mxinfo " id="T3:U61"><span class="mxinfo " id="T3:U62"><span class="mxinfo " id="T3:U63">2</span>*<span class="var type1" id="S12T3U94">l1</span></span>*<span class="var type1" id="S13T3U95">l2</span></span>*<span class="mxinfo " id="T3:U66">cos(<span class="var type1" id="S5T3U98">a2</span>)</span></span></span>)</span></span> + <span class="var type1" id="S17T3U99">J2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T3:U69"><span class="var type1" id="S21T3U102">H12</span>  = <span class="mxinfo " id="T3:U71"><span class="mxinfo " id="T3:U72"><span class="mxinfo " id="T3:U73"><span class="mxinfo " id="T3:U74"><span class="mxinfo " id="T3:U75"><span class="var type1" id="S11T3U108">m2</span>*<span class="var type1" id="S12T3U109">l1</span></span>*<span class="var type1" id="S15T3U110">lc2</span></span>*<span class="mxinfo " id="T3:U79">cos(<span class="var type1" id="S5T3U113">a2</span>)</span></span> + <span class="mxinfo " id="T3:U81"><span class="var type1" id="S11T3U115">m2</span>*<span class="mxinfo " id="T3:U83"><span class="var type1" id="S15T3U117">lc2</span>^2</span></span></span> + <span class="var type1" id="S17T3U119">J2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,5" id="srcline5"> 5</a></span><span class="line"><span class="mxinfo " id="T3:U86"><span class="var type1" id="S22T3U122">H21</span> = <span class="var type1" id="S21T3U123">H12</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T3:U89"><span class="var type1" id="S23T3U126">H22</span> = <span class="mxinfo " id="T3:U91"><span class="var type1" id="S11T3U129">m2</span>*<span class="var type1" id="S15T3U131">lc2</span>^2 + <span class="var type1" id="S17T3U133">J2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T3:U95"><span class="var type1" id="S24T3U136">h</span> = <span class="mxinfo " id="T3:U97"><span class="mxinfo " id="T3:U98"><span class="mxinfo " id="T3:U99"><span class="var type1" id="S11T3U140">m2</span>*<span class="var type1" id="S12T3U141">l1</span></span>*<span class="var type1" id="S15T3U142">lc2</span></span>*<span class="mxinfo " id="T3:U103">sin(<span class="var type1" id="S5T3U145">a2</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T3:U105"><span class="var type1" id="S26T3U148">g1</span> = <span class="mxinfo " id="T3:U107"><span class="mxinfo " id="T3:U108"><span class="mxinfo " id="T3:U109"><span class="mxinfo " id="T3:U110"><span class="var type1" id="S10T3U153">m1</span>*<span class="var type1" id="S14T3U154">lc1</span></span>*<span class="var type1" id="S18T3U155">g</span></span>*<span class="mxinfo " id="T3:U114">cos(<span class="var type1" id="S4T3U158">a1</span>)</span></span> + <span class="mxinfo " id="T3:U116"><span class="mxinfo " id="T3:U117"><span class="var type1" id="S11T3U161">m2</span>*<span class="var type1" id="S18T3U162">g</span></span>*(<span class="mxinfo " id="T3:U120"><span class="mxinfo " id="T3:U121"><span class="var type1" id="S15T3U166">lc2</span>*<span class="mxinfo " id="T3:U123">cos(<span class="mxinfo " id="T3:U124"><span class="var type1" id="S4T3U170">a1</span>+<span class="var type1" id="S5T3U171">a2</span></span>)</span></span>+<span class="mxinfo " id="T3:U127"><span class="var type1" id="S12T3U173">l1</span>*<span class="mxinfo " id="T3:U129">cos(<span class="var type1" id="S4T3U176">a1</span>)</span></span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T3:U131"><span class="var type1" id="S27T3U179">g2</span> = <span class="mxinfo " id="T3:U133"><span class="mxinfo " id="T3:U134"><span class="mxinfo " id="T3:U135"><span class="var type1" id="S11T3U183">m2</span>*<span class="var type1" id="S15T3U184">lc2</span></span>*<span class="var type1" id="S18T3U185">g</span></span>*<span class="mxinfo " id="T3:U139">cos(<span class="mxinfo " id="T3:U140"><span class="var type1" id="S4T3U189">a1</span>+<span class="var type1" id="S5T3U190">a2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T7:U143"><span class="var type1" id="S28T7U193">H</span> = <span class="mxinfo " id="T7:U145">[<span class="mxinfo " id="T28:U146"><span class="var type1" id="S19T3U196">H11</span> <span class="var type1" id="S21T3U197">H12</span></span>; <span class="mxinfo " id="T28:U149"><span class="var type1" id="S22T3U199">H21</span> <span class="var type1" id="S23T3U200">H22</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T7:U152"><span class="var type1" id="S29T7U203">H2</span> = <span class="mxinfo " id="T7:U154">inv(<span class="var type1" id="S28T7U206">H</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,12" id="srcline12">12</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="29,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T7:U156"><span class="var type1" id="S31T7U209">J</span> = <span class="mxinfo " id="T7:U158">[<span class="mxinfo " id="T28:U159"><span class="mxinfo " id="T3:U160"><span class="mxinfo " id="T3:U161">-<span class="var type1" id="S24T3U214">h</span></span>*<span class="var type1" id="S7T3U215">aPrim2</span></span>, <span class="mxinfo " id="T3:U164"><span class="mxinfo " id="T3:U165"><span class="mxinfo " id="T3:U166">-<span class="var type1" id="S24T3U219">h</span></span>*<span class="var type1" id="S6T3U220">aPrim1</span></span>-<span class="mxinfo " id="T3:U169"><span class="var type1" id="S24T3U222">h</span>*<span class="var type1" id="S7T3U223">aPrim2</span></span></span></span>; <span class="mxinfo " id="T28:U172"><span class="mxinfo " id="T3:U173"><span class="var type1" id="S24T3U226">h</span>*<span class="var type1" id="S6T3U227">aPrim1</span></span>,<span class="mxinfo " id="T3:U176">0</span></span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T4:U177"><span class="var type1" id="S32T4U231">M</span> = <span class="mxinfo " id="T4:U179">[<span class="var type1" id="S26T3U234">g1</span>;<span class="var type1" id="S27T3U236">g2</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T4:U182"><span class="var type1" id="S33T4U239">U</span> = <span class="mxinfo " id="T4:U184">[<span class="var type1" id="S8T3U242">u1</span>;<span class="var type1" id="S9T3U244">u2</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,16" id="srcline16">16</a></span><span class="line"><span class="comment">%rozwikłanie </span></span></span>
<span class="srcline"><span class="lineno"><a href="29,17" id="srcline17">17</a></span><span class="line"><span class="mxinfo " id="T4:U187"><span class="var type1" id="S34T4U247">Roz</span> = <span class="mxinfo " id="T4:U189"><span class="mxinfo " id="T4:U190"><span class="mxinfo " id="T4:U191"><span class="mxinfo " id="T7:U192"><span class="mxinfo " id="T7:U193"><span class="mxinfo " id="T3:U194">-1</span>*<span class="var type1" id="S29T7U255">H2</span></span>*<span class="var type1" id="S31T7U256">J</span></span>*<span class="mxinfo " id="T4:U197">[<span class="var type1" id="S6T3U259">aPrim1</span>; <span class="var type1" id="S7T3U261">aPrim2</span>]</span></span> -<span class="mxinfo " id="T4:U200"><span class="mxinfo " id="T7:U201"><span class="mxinfo " id="T3:U202">1</span>*<span class="var type1" id="S29T7U265">H2</span></span>*<span class="var type1" id="S32T4U266">M</span></span></span> + <span class="mxinfo " id="T4:U205"><span class="var type1" id="S29T7U268">H2</span>*<span class="var type1" id="S33T4U269">U</span></span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="29,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T3:U208"><span class="var type1" id="S2T3U272">x5</span> = <span class="mxinfo " id="T3:U210"><span class="var type1" id="S34T4U274">Roz</span>(<span class="mxinfo " id="T3:U212">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T3:U213"><span class="var type1" id="S3T3U278">x6</span> = <span class="mxinfo " id="T3:U215"><span class="var type1" id="S34T4U280">Roz</span>(<span class="mxinfo " id="T3:U217">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="29,20" id="srcline20">20</a></span><span class="line"><span class="comment">% x5 = (200*T1 - 200*T2 + (2943*cos(x1 + 2*x2))/2 - (8829*cos(x1))/2 + 150*x3^2*sin(x2) + 150*x4^2*sin(x2) + 225*x3^2*sin(2*x2) - 23544*J2*cos(x1) - 600*T2*cos(x2) + 800*J2*T1 - 800*J2*T2 + 300*x3*x4*sin(x2) + 600*J2*x3^2*sin(x2) + 600*J2*x4^2*sin(x2) + 1200*J2*x3*x4*sin(x2))/(25*(8*J1 + 108*J2 - 9*cos(2*x2) + 32*J1*J2 + 18));</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,21" id="srcline21">21</a></span><span class="line"><span class="comment">% x6 = -(400*T1 - 5800*T2 - 17658*cos(x1 - x2) + 2943*cos(x1 + 2*x2) + 8829*cos(x1 + x2) - 8829*cos(x1) + 4350*x3^2*sin(x2) + 300*x4^2*sin(x2) + 7848*J1*cos(x1 + x2) + 900*x3^2*sin(2*x2) + 450*x4^2*sin(2*x2) - 47088*J2*cos(x1) + 1200*T1*cos(x2) - 2400*T2*cos(x2) - 1600*J1*T2 + 1600*J2*T1 - 1600*J2*T2 + 600*x3*x4*sin(x2) + 1200*J1*x3^2*sin(x2) + 1200*J2*x3^2*sin(x2) + 1200*J2*x4^2*sin(x2) + 900*x3*x4*sin(2*x2) + 2400*J2*x3*x4*sin(x2))/(50*(8*J1 + 108*J2 - 9*cos(2*x2) + 32*J1*J2 + 18));</span></span></span>
<span class="srcline"><span class="lineno"><a href="29,22" id="srcline22">22</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="29,23" id="srcline23">23</a></span><span class="line"><span class="comment">%y = u;</span></span></span>
</pre>
